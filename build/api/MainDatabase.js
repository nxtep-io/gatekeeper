"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ts_framework_sql_1 = require("ts-framework-sql");
const config_1 = require("../config");
const Models = require("./models");
class MainDatabase extends ts_framework_sql_1.EntityDatabase {
    /**
     * Gets the singleton database instance.
     */
    static getInstance() {
        return this.instance;
    }
}
MainDatabase.instance = new MainDatabase({
    connectionOpts: Object.assign({}, config_1.default.database, { entities: Object.values(Models) })
});
exports.default = MainDatabase;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFpbkRhdGFiYXNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vYXBpL01haW5EYXRhYmFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVlBLHVEQUFrRDtBQUNsRCxzQ0FBK0I7QUFDL0IsbUNBQW1DO0FBRW5DLGtCQUFrQyxTQUFRLGlDQUFjO0lBUXREOztPQUVHO0lBQ0gsTUFBTSxDQUFDLFdBQVc7UUFDaEIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3ZCLENBQUM7O0FBWnlCLHFCQUFRLEdBQWlCLElBQUksWUFBWSxDQUFDO0lBQ2xFLGNBQWMsb0JBQ1QsZ0JBQU0sQ0FBQyxRQUFRLElBQ2xCLFFBQVEsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUNoQztDQUNLLENBQUMsQ0FBQztBQU5aLCtCQWNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcInRzLWZyYW1ld29ya1wiO1xuXG5pbXBvcnQge1xuICBDb25uZWN0aW9uLFxuICBjcmVhdGVDb25uZWN0aW9uLFxuICBFbnRpdHlNYW5hZ2VyLFxuICBFbnRpdHlTY2hlbWEsXG4gIGdldENvbm5lY3Rpb25PcHRpb25zLFxuICBPYmplY3RUeXBlLFxuICBSZXBvc2l0b3J5XG59IGZyb20gXCJ0eXBlb3JtXCI7XG5cbmltcG9ydCB7IEVudGl0eURhdGFiYXNlIH0gZnJvbSBcInRzLWZyYW1ld29yay1zcWxcIjtcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uL2NvbmZpZ1wiO1xuaW1wb3J0ICogYXMgTW9kZWxzIGZyb20gXCIuL21vZGVsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluRGF0YWJhc2UgZXh0ZW5kcyBFbnRpdHlEYXRhYmFzZSB7XG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2U6IE1haW5EYXRhYmFzZSA9IG5ldyBNYWluRGF0YWJhc2Uoe1xuICAgIGNvbm5lY3Rpb25PcHRzOiB7XG4gICAgICAuLi5Db25maWcuZGF0YWJhc2UsXG4gICAgICBlbnRpdGllczogT2JqZWN0LnZhbHVlcyhNb2RlbHMpXG4gICAgfVxuICB9IGFzIGFueSk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpbmdsZXRvbiBkYXRhYmFzZSBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xuICB9XG59XG4iXX0=